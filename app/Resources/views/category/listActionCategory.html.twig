{% extends "base.html.twig" %}

{% block title %}Actividad 61. Categorias{% endblock %}

{% block body %}
	{# Mostramos los objetos con dump
	{{ dump(categories) }} #}
	
	{# Listamos el producto en una lista. #}
	<hr><hr>
	<table class="table table-striped">
	{% if is_granted('ROLE_APP_ADMIN') %}
		<tbody>
			<thead>
				<tr>
					<td>Id</td>
					<td>Name</td>
					<td>Edit</td>
					<td>Delete</td>
				</tr>
			</thead>
			<h2>Listado de categorias</h2>	
				{% for category in categories%}
					<tr>
						<td>{{ category.id }}</td>
						<td>{{ category.name }}</td>
						<td><a href="{{
							path(
								'editCategory',
								{ 'id': category.id }
							) 
							}}"><i class="fa fa-pencil-square-o"></i></a></td>
						<td><a href="{{
							path(
								'deleteAction',
								{ 'id': category.id }
							) 
							}}"><i class="fa fa-trash fa-lg"></i></a></td>
					</tr>
				{% endfor %} 
		</tbody>
	{% elseif is_granted('ROLE_USER') %}
		<tbody>
			<thead>
				<tr>
					<td>Id</td>
					<td>Name</td>
				</tr>
			</thead>
			<h2>Listado de categorias</h2>	
				{% for category in categories%}
					<tr>
						<td>{{ category.id }}</td>
						<td>{{ category.name }}</td>
					</tr>
				{% endfor %} 
		</tbody>
	{% endif %}
	</table> 
	<a href="{{ url('newCategoryAction')}}">atr√°s</a>
{% endblock %}
{% block javascripts %}{% endblock %}